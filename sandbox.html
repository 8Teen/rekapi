<!DOCTYPE html>
<html>
<head>
  
	<script src="lib/require.js"></script><script>
	function onLoadAll () {
	  var sandbox
				,kapi
				,actor;

		sandbox = document.getElementById('sandbox');
		kapi = new Kapi(sandbox);

		kapi.canvas_style('background', '#ddd');
		kapi.canvas_height(300);
		kapi.canvas_width(500);
		
		actor = new Kapi.Actor(kapi, {
		  'draw': function (canvas_context, state) {
        canvas_context.beginPath();
          canvas_context.arc(
            state.x || 0,
            state.y || 0,
            state.radius || 50,
            0,
            Math.PI*2, 
            true);
          canvas_context.fillStyle = state.color || '#f0f';
          canvas_context.fill();
          canvas_context.closePath();

          return this;
		  }
		});
		
		kapi.addActor(actor);
		window.kapi = kapi;
		console.log(kapi);
	}
	
		require([
		    'lib/underscore/underscore.js'
		    ,'lib/shifty/shifty.js'], 
				function () {
				  
			require(['src/rekapi.core.js'], function () {
			  require(['src/rekapi.actor.js'
			          ,'src/rekapi.canvas.js'
			          ,'src/rekapi.interpolate.js'
			    ], function () {
  				setTimeout(onLoadAll, 1);
  			});
			});
			
		});
	</script>
</head>
<body>
	<canvas id="sandbox"></canvas>
</body>
</html>